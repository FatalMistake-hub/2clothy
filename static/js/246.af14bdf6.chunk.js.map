{"version":3,"file":"static/js/246.af14bdf6.chunk.js","mappings":"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","sources":["webpack://2clothy/./src/components/ErrorMsg/ErrorMsg.scss?2aa8","components/ErrorMsg/ErrorMsg.js","components/ErrorBox/ErrorBox.js","webpack://2clothy/./src/components/ErrorBox/ErrorBox.scss?420d","pages/Profile/PublicProfile/PublicProfile.js","webpack://2clothy/./src/pages/Profile/PublicProfile/PublicProfile.module.scss?1564"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import styles from './ErrorMsg.scss';\r\nimport classNames from 'classnames/bind';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction ErrorMsg({data,status}) {\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <div className={cx('errorBox')}>\r\n                <p className={cx('errorMsg',{status})}>* {data} </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorMsg;\r\n","import styles from './ErrorBox.scss';\r\nimport classNames from 'classnames/bind';\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction ErrorBox({ data, status }) {\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <div className={cx('errorResponse-box',`${status}`)}>\r\n                <p className={cx('errorResponse-alert',`${status}`)}>{data}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ErrorBox;\r\n","// extracted by mini-css-extract-plugin\nexport default {};","import classNames from 'classnames/bind';\r\nimport Button from '~/components/Button';\r\nimport styles from './PublicProfile.module.scss';\r\nimport moment from 'moment/moment';\r\nimport { useEffect, useState, useLayoutEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authRemainingSelector } from '~/redux/selector';\r\nimport { getUser, updateUser } from '~/services/authService';\r\nimport { createAxios } from '~/services/createInstance';\r\nimport { Field, Form, useField, useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport AuthSlice from '~/redux/AuthSlice';\r\nimport ErrorBox from '~/components/ErrorBox';\r\nimport ErrorMsg from '~/components/ErrorMsg';\r\n\r\nconst cx = classNames.bind(styles);\r\nfunction PublicProfile() {\r\n    const user = useSelector(authRemainingSelector);\r\n    const currentUser = user?.login.currentUser;\r\n    const accessToken = currentUser?.accessToken;\r\n    const dispatch = useDispatch();\r\n\r\n    const [dataUser, setDataUser] = useState();\r\n    useLayoutEffect(() => {\r\n        const fetchApi = async () => {\r\n            let axiosJWT = createAxios(currentUser, dispatch, AuthSlice.actions.loginSuccess);\r\n            const result = await getUser(accessToken, axiosJWT);\r\n            setDataUser(result);\r\n            User.values.name = result.name;\r\n            User.values.addrress = result.address;\r\n            User.values.phoneNumber = result.phoneNumber;\r\n        };\r\n        fetchApi();\r\n    }, []);\r\n    const [errorResponse, setErrorResponse] = useState('');\r\n    const User = useFormik({\r\n        initialValues: {\r\n            name: dataUser?.name,\r\n            addrress: dataUser?.addrress,\r\n            phoneNumber: dataUser?.phoneNumber,\r\n        },\r\n        validationSchema: Yup.object({\r\n            name: Yup.string().required('Bắt buộc!'),\r\n            addrress: Yup.string().required('Bắt buộc!'),\r\n            phoneNumber: Yup.string().required('Bắt buộc!'),\r\n        }),\r\n        onSubmit: (values) => {\r\n            console.log(values);\r\n            const data = {\r\n                id: dataUser?.id,\r\n                Name: values.name,\r\n                Address: values.addrress,\r\n                PhoneNumber: values.phoneNumber,\r\n            };\r\n            console.log(data);\r\n\r\n            const fetchApi = async () => {\r\n                let axiosJWT = createAxios(currentUser, dispatch, AuthSlice.actions.loginSuccess);\r\n\r\n                const res = await updateUser(data, accessToken, axiosJWT);\r\n                setErrorResponse(res);\r\n            };\r\n            fetchApi();\r\n        },\r\n    });\r\n\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <div className={cx('header')}>\r\n                <p className={cx('header-text')}>Mọi thứ ghi trên trang này đều có thể được nhìn thấy bởi bất kỳ ai</p>\r\n                {errorResponse ? <ErrorBox data={errorResponse} status={'success'} /> : ''}\r\n            </div>\r\n            <form onSubmit={User.handleSubmit}>\r\n                <div className={cx('profile')}>\r\n                    <div className={cx('profile-container')}>\r\n                        <div className={cx('profile-section')}>\r\n                            <label className={cx('profile-section-title')}>Ảnh đại diện</label>\r\n                            <div className={cx('profile-section-image')}>\r\n                                {/* <input type=\"file\" className={cx('profile-section-input-file')} /> */}\r\n                                <div className={cx('profile-section-image-box')}>\r\n                                    <img\r\n                                        src=\"https://www.etsy.com/images/avatars/default_avatar_400x400.png\"\r\n                                        loading=\"lazy\"\r\n                                        className={cx('profile-section-image-content')}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <p className={cx('profile-section-notice')}>\r\n                                {/* Start typing and choose from a suggested city to help others find you. */}\r\n                            </p>\r\n                        </div>\r\n                        <div className={cx('profile-section-break')} />\r\n\r\n                        <div className={cx('profile-section')}>\r\n                            <label className={cx('profile-section-title')}>Email</label>\r\n                            {/* <input type=\"text\" className={cx('profile-section-input')} /> */}\r\n                            <span className={cx('profile-section-text')}>{dataUser?.email}</span>\r\n                        </div>\r\n                        <div className={cx('profile-section-break')} />\r\n                        <div className={cx('profile-section')}>\r\n                            <label className={cx('profile-section-title')}>Tên</label>\r\n                            <input\r\n                                id=\"name\"\r\n                                name=\"name\"\r\n                                value={User.values.name}\r\n                                onChange={User.handleChange}\r\n                                type=\"text\"\r\n                                className={cx('profile-section-input')}\r\n                            />\r\n                            <p className={cx('profile-section-notice')}>{User.errors.name && <ErrorMsg data={User.errors.name} />}</p>\r\n                        </div>\r\n                        <div className={cx('profile-section-break')} />\r\n                        <div className={cx('profile-section')}>\r\n                            <label className={cx('profile-section-title')}>Số điện thoại</label>\r\n                            <input\r\n                                id=\"phoneNumber\"\r\n                                name=\"phoneNumber\"\r\n                                value={User.values.phoneNumber}\r\n                                onChange={User.handleChange}\r\n                                type=\"number\"\r\n                                className={cx('profile-section-input')}\r\n                            />\r\n                            <p className={cx('profile-section-notice')}>{User.errors.phoneNumber && <ErrorMsg data={User.errors.phoneNumber} />}</p>\r\n                        </div>\r\n                        <div className={cx('profile-section-break')} />\r\n                        <div className={cx('profile-section')}>\r\n                            <label className={cx('profile-section-title')}>Địa chỉ</label>\r\n\r\n                            <textarea\r\n                                id=\"addrress\"\r\n                                name=\"addrress\"\r\n                                rows=\"5\"\r\n                                cols=\"33\"\r\n                                value={User.values.addrress}\r\n                                onChange={User.handleChange}\r\n                                className={cx('profile-section-address')}\r\n                            />\r\n                            <p className={cx('profile-section-notice')}>{User.errors.addrress && <ErrorMsg data={User.errors.addrress} />}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={cx('profile-submit')}>\r\n                    <Button type=\"submit\" primary>\r\n                        Lưu thay đổi\r\n                    </Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PublicProfile;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"header\":\"PublicProfile_header__zLOOk\",\"header-text\":\"PublicProfile_header-text__PHdIz\",\"profile\":\"PublicProfile_profile__EkbVI\",\"profile-container\":\"PublicProfile_profile-container__Vh25o\",\"profile-section\":\"PublicProfile_profile-section__+6RXm\",\"profile-section-break\":\"PublicProfile_profile-section-break__Q-Vze\",\"profile-section-title\":\"PublicProfile_profile-section-title__In5x4\",\"profile-section-input\":\"PublicProfile_profile-section-input__FCXRN\",\"profile-section-notice\":\"PublicProfile_profile-section-notice__krX-V\",\"profile-submit\":\"PublicProfile_profile-submit__btvhE\",\"profile-section-input-file\":\"PublicProfile_profile-section-input-file__wxEdW\",\"profile-section-image\":\"PublicProfile_profile-section-image__UQq2r\",\"profile-section-image-box\":\"PublicProfile_profile-section-image-box__o6S+w\",\"profile-section-image-content\":\"PublicProfile_profile-section-image-content__iKH4V\",\"profile-section-text\":\"PublicProfile_profile-section-text__ujwNA\",\"profile-section-address\":\"PublicProfile_profile-section-address__htQT1\"};"],"names":["cx","classNames","data","status","className","user","useSelector","authRemainingSelector","currentUser","login","accessToken","dispatch","useDispatch","useState","dataUser","setDataUser","useLayoutEffect","fetchApi","axiosJWT","createAxios","AuthSlice","getUser","result","User","values","name","addrress","address","phoneNumber","errorResponse","setErrorResponse","useFormik","initialValues","validationSchema","Yup","required","onSubmit","console","log","id","Name","Address","PhoneNumber","updateUser","res","handleSubmit","src","loading","email","value","onChange","handleChange","type","errors","ErrorMsg","rows","cols","Button","primary"],"sourceRoot":""}