{"version":3,"file":"static/js/913.fdf3f867.chunk.js","mappings":"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","sources":["services/imageService.js","pages/SetupShop/Listings/Listings.js","webpack://2clothy/./src/pages/SetupShop/Listings/Listings.module.scss?5ff9"],"sourcesContent":["function UploadImage(files,setImageURLs) {\r\n    const Upload = async (file) => {\r\n        const data = new FormData();\r\n        data.append('file', file);\r\n        data.append('upload_preset', '2clothy');\r\n        const res = await fetch('https://api.cloudinary.com/v1_1/sacchidananad-utech/image/upload', {\r\n            method: 'POST',\r\n            body: data,\r\n        });\r\n        const files = await res.json();\r\n        setImageURLs(prev=>{\r\n            return [...prev,files.secure_url]\r\n        })\r\n    };\r\n    for (let i = 0; i < files.length; i++) {\r\n        Upload(files[i]);\r\n    }\r\n\r\n}\r\n\r\nexport default UploadImage;\r\n","import classNames from 'classnames/bind';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Button from '~/components/Button';\r\nimport UploadImage from '~/services/imageService';\r\nimport SetupShopSlice from '~/redux/SetupShopSlice';\r\nimport { useFormik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { setupShopRemainingSelector } from '~/redux/selector';\r\nimport styles from './Listings.module.scss';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction Listings() {\r\n    const shopInfo = useSelector(setupShopRemainingSelector);\r\n    const [images, setImages] = useState([]);\r\n    const [imageURLS, setImageURLs] = useState(shopInfo.info.Paths);\r\n    const [pathURLS, setPathURLs] = useState([]);\r\n    useEffect(() => {\r\n        if (images.length < 1) return;\r\n        const newImageUrls = [];\r\n\r\n        // AddProductForm.values.Paths = images;\r\n\r\n        images.forEach((image) => newImageUrls.push(URL.createObjectURL(image)));\r\n        setImageURLs(newImageUrls);\r\n    }, [images]);\r\n    const isValidFileUploaded = (file) => {\r\n        const validExtensions = ['png', 'jpeg', 'jpg'];\r\n        const fileExtension = file.type.split('/')[1];\r\n\r\n        return validExtensions.includes(fileExtension);\r\n    };\r\n    function onImageChange(e) {\r\n        const files = e.target.files;\r\n        console.log(files);\r\n        UploadImage(files, setPathURLs);\r\n\r\n        let check;\r\n        for (let i = 0; i < e.target.files.length; i++) {\r\n            if (isValidFileUploaded(files[i])) {\r\n                check = true;\r\n            } else {\r\n                check = false;\r\n                break;\r\n            }\r\n        }\r\n        if (files.length < 9 && check) {\r\n            if (images.concat([...e.target.files]).length <= 9) {\r\n                const data = images.concat([...e.target.files]);\r\n                setImages(data);\r\n            } else {\r\n                alert('Over the allowed file amount');\r\n            }\r\n        } else {\r\n            alert('File invalid');\r\n        }\r\n    }\r\n    const inputFile = useRef(null);\r\n    const onDivClick = () => {\r\n        inputFile.current.click();\r\n    };\r\n    const dispatch = useDispatch();\r\n    const navigate = useNavigate();\r\n    const infoShop = useFormik({\r\n        initialValues: {\r\n            phone: shopInfo.info.PhoneNumber,\r\n            address: shopInfo.info.Address,\r\n            description: shopInfo.info.Description,\r\n            // name: shopInfo.reference.name,\r\n        },\r\n        validationSchema: Yup.object({\r\n            phone: Yup.string().required('Bắt buộc!'),\r\n            address: Yup.string().required('Bắt buộc!'),\r\n            description: Yup.string().required('Bắt buộc!'),\r\n            // path: Yup.string().required('Bắt buộc!'),\r\n        }),\r\n        onSubmit: (values) => {\r\n            console.log({ Address: values.address, PhoneNumber: values.phone, Description: values.description, Paths: pathURLS });\r\n            dispatch(\r\n                SetupShopSlice.actions.handleInfo({\r\n                    Address: values.address,\r\n                    PhoneNumber: values.phone,\r\n                    Description: values.description,\r\n                    Paths: pathURLS,\r\n                }),\r\n            );\r\n            navigate('/billing');\r\n        },\r\n    });\r\n    return (\r\n        <div className={cx('wrapper')}>\r\n            <div className={cx('listing')}>\r\n                <div className={cx('listing-title')}>\r\n                    <h1 className={cx('listing-title-text')}>Thiết lập thông tin cửa hàng</h1>\r\n                    <div className={cx('listing-help')}>Hãy cho chúng tôi biết một số thông tin về shop của bạn.</div>\r\n                </div>\r\n                <form onSubmit={infoShop.handleSubmit}>\r\n                    <div className={cx('listing-container')}>\r\n                        <div className={cx('listing-container-box')}>\r\n                            <div className={cx('listing-form')}>\r\n                                <div className={cx('listing-form-body')}>\r\n                                    <div className={cx('listing-form-creditcard')}>\r\n                                        <div className={cx('listing-form-creditcard-title')}>Thông tin cho shop </div>\r\n                                        <div className={cx('listing-form-creditcard-item')}>\r\n                                            <div className={cx('listing-form-creditcard-item-porperties')}>Số điện thoại &nbsp;*</div>\r\n                                            <input\r\n                                                id=\"phone\"\r\n                                                name=\"phone\"\r\n                                                value={infoShop.values.phone}\r\n                                                onChange={infoShop.handleChange}\r\n                                                type=\"text\"\r\n                                                className={cx('listing-form-creditcard-item-input')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className={cx('listing-form-creditcard-item')}>\r\n                                            <div className={cx('listing-form-creditcard-item-porperties')}>Địa chỉ &nbsp;*</div>\r\n                                            <textarea\r\n                                                id=\"address\"\r\n                                                name=\"address\"\r\n                                                value={infoShop.values.address}\r\n                                                onChange={infoShop.handleChange}\r\n                                                rows=\"5\"\r\n                                                cols=\"33\"\r\n                                                className={cx('listing-form-creditcard-item-area')}\r\n                                            />\r\n                                        </div>\r\n                                        <div className={cx('listing-form-creditcard-item')}>\r\n                                            <div className={cx('listing-form-creditcard-item-porperties')}>Mô tả &nbsp;*</div>\r\n                                            <textarea\r\n                                                id=\"description\"\r\n                                                name=\"description\"\r\n                                                value={infoShop.values.description}\r\n                                                onChange={infoShop.handleChange}\r\n                                                rows=\"5\"\r\n                                                cols=\"33\"\r\n                                                className={cx('listing-form-creditcard-item-area')}\r\n                                            />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={cx('listing-form-bannel')}>\r\n                                        <div className={cx('listing-form-bannel-title')}>Ảnh bìa của shop</div>\r\n                                        {/* <div className={cx('listing-form-bannel-item')}>\r\n                                        <div className={cx('listing-form-bannel-item-porperties')}>Country</div>\r\n                                        <input type=\"text\" className={cx('listing-form-bannel-item-input')} />\r\n                                    </div> */}\r\n                                        <div className={cx('listing-form-bannel-content')}>\r\n                                            {imageURLS?.map((imageSrc, i) => (\r\n                                                <div key={i} className={cx('listing-form-bannel-image')}>\r\n                                                    <div className={cx('listing-form-bannel-image-box')}>\r\n                                                        <img\r\n                                                            src={imageSrc}\r\n                                                            alt=\"not fount\"\r\n                                                            className={cx('listing-form-bannel-image-data')}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n\r\n                                            <div className={cx('listing-form-bannel-path')}>\r\n                                                <div onClick={onDivClick} className={cx('listing-form-bannel-path-box')}>\r\n                                                    <input\r\n                                                        id=\"path\"\r\n                                                        name=\"path\"\r\n                                                        value={infoShop.values.path}\r\n                                                        onChange={onImageChange}\r\n                                                        type=\"file\"\r\n                                                        multiple={true}\r\n                                                        className={cx('listing-form-bannel-path-input')}\r\n                                                        ref={inputFile}\r\n                                                    />\r\n                                                    <div className={cx('listing-form-bannel-icon')}>\r\n                                                        <div className={cx('listing-form-bannel-icon-box')}>\r\n                                                            <i className={cx('listing-form-bannel-icon-data')}>\r\n                                                                <svg viewBox=\"0 0 23 21\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                                                    <path d=\"M18.5 0A1.5 1.5 0 0 1 20 1.5V12c-.49-.07-1.01-.07-1.5 0V1.5H2v12.65l3.395-3.408a.75.75 0 0 1 .958-.087l.104.087L7.89 12.18l3.687-5.21a.75.75 0 0 1 .96-.086l.103.087 3.391 3.405c.81.813.433 2.28-.398 3.07A5.235 5.235 0 0 0 14.053 18H2a1.5 1.5 0 0 1-1.5-1.5v-15A1.5 1.5 0 0 1 2 0h16.5z\"></path>\r\n                                                                    <path d=\"M6.5 4.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM18.5 14.25a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5H20v2.25a.75.75 0 0 1-1.5 0V18h-2.25a.75.75 0 0 1 0-1.5h2.25v-2.25z\"></path>\r\n                                                                </svg>\r\n                                                            </i>\r\n                                                        </div>\r\n                                                        <div className={cx('listing-form-bannel-text')}>\r\n                                                            Thêm hình ảnh ({imageURLS.length}/9)\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={cx('listing-action')}>\r\n                        <Button primary rounded large type=\"submit\">\r\n                            Lưu và tiếp tục\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Listings;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Listings_wrapper__S+cDN\",\"listing-title-text\":\"Listings_listing-title-text__NkCyx\",\"listing-help\":\"Listings_listing-help__OL7ME\",\"listing-container\":\"Listings_listing-container__F3rOs\",\"listing-container-box\":\"Listings_listing-container-box__CUETg\",\"listing-form\":\"Listings_listing-form__J7RNz\",\"listing-form-body\":\"Listings_listing-form-body__rJ6f0\",\"listing-form-creditcard-title\":\"Listings_listing-form-creditcard-title__9RRTN\",\"listing-form-creditcard-item\":\"Listings_listing-form-creditcard-item__YN6wQ\",\"listing-form-creditcard-item-porperties\":\"Listings_listing-form-creditcard-item-porperties__ISRqX\",\"listing-form-creditcard-item-input\":\"Listings_listing-form-creditcard-item-input__w+pnL\",\"listing-form-creditcard-item-area\":\"Listings_listing-form-creditcard-item-area__ai7ol\",\"listing-form-image-title\":\"Listings_listing-form-image-title__P+LVe\",\"listing-form-image-item\":\"Listings_listing-form-image-item__sVI2j\",\"listing-form-image-item-porperties\":\"Listings_listing-form-image-item-porperties__MFBFW\",\"listing-form-image-item-input\":\"Listings_listing-form-image-item-input__W9IHU\",\"listing-notice\":\"Listings_listing-notice__zJ15b\",\"listing-notice-header\":\"Listings_listing-notice-header__rNxX-\",\"listing-notice-header-text\":\"Listings_listing-notice-header-text__0-dzB\",\"listing-notice-body\":\"Listings_listing-notice-body__dnztk\",\"listing-notice-body-content\":\"Listings_listing-notice-body-content__F2QvF\",\"listing-action\":\"Listings_listing-action__7kNyk\",\"listing-form-bannel-content\":\"Listings_listing-form-bannel-content__LkH40\",\"listing-form-bannel-image\":\"Listings_listing-form-bannel-image__z09SV\",\"listing-form-bannel-image-box\":\"Listings_listing-form-bannel-image-box__L-eiW\",\"listing-form-bannel-image-data\":\"Listings_listing-form-bannel-image-data__Exu1J\",\"listing-form-bannel-path\":\"Listings_listing-form-bannel-path__M3xKe\",\"listing-form-bannel-path-box\":\"Listings_listing-form-bannel-path-box__2BGdy\",\"listing-form-bannel-path-input\":\"Listings_listing-form-bannel-path-input__QnZbg\",\"listing-form-bannel-icon\":\"Listings_listing-form-bannel-icon__fcZMP\",\"listing-form-bannel-icon-box\":\"Listings_listing-form-bannel-icon-box__WSiih\",\"listing-form-bannel-icon-data\":\"Listings_listing-form-bannel-icon-data__EM8Ig\",\"listing-form-bannel-text\":\"Listings_listing-form-bannel-text__puP2g\"};"],"names":["files","setImageURLs","Upload","file","data","FormData","append","fetch","method","body","res","json","prev","secure_url","i","length","cx","classNames","shopInfo","useSelector","setupShopRemainingSelector","useState","images","setImages","info","Paths","imageURLS","pathURLS","setPathURLs","useEffect","newImageUrls","forEach","image","push","URL","createObjectURL","isValidFileUploaded","fileExtension","type","split","includes","inputFile","useRef","dispatch","useDispatch","navigate","useNavigate","infoShop","useFormik","initialValues","phone","PhoneNumber","address","Address","description","Description","validationSchema","Yup","required","onSubmit","values","console","log","SetupShopSlice","className","handleSubmit","id","name","value","onChange","handleChange","rows","cols","map","imageSrc","src","alt","onClick","current","click","path","e","check","target","UploadImage","concat","alert","multiple","ref","viewBox","xmlns","d","Button","primary","rounded","large"],"sourceRoot":""}