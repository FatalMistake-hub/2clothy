"use strict";(self.webpackChunk_2clothy=self.webpackChunk_2clothy||[]).push([[626],{6626:function(e,a,n){n.r(a),n.d(a,{default:function(){return P}});var t=n(885),r=n(4165),o=n(4925),i=n(5861),m=n(9448),c=n.n(m),s=n(3714),l=n(5063),d=n(6871),u=n(5705),h=n(2791),p=n(56),f=n(9434),_=n(3734),g=n(1654),x=n(5280),b=n(4815),v=n(9136),k=n(184),y=["BankName"],N=["Id"],j=c().bind({wrapper:"Payment_wrapper__2bVb9",body:"Payment_body__hgRuG",tittle:"Payment_tittle__pjuVi","tittle-text":"Payment_tittle-text__PTU6d","tittle-tip":"Payment_tittle-tip__sypQu",form:"Payment_form__vhNAy","form-box":"Payment_form-box__FV6mC","form-check":"Payment_form-check__vFhQE","form-check-group":"Payment_form-check-group__-P0CR","form-check-name":"Payment_form-check-name__+vb3q","form-check-radio":"Payment_form-check-radio__WC+nI","form-check-iconList":"Payment_form-check-iconList__-zQ18","form-check-icon":"Payment_form-check-icon__ideiP","form-check-icon-data":"Payment_form-check-icon-data__W9TYl","form-group":"Payment_form-group__1EyGQ","form-group-item":"Payment_form-group-item__BIaR9","form-group-item-label":"Payment_form-group-item-label__qXgMv","form-group-item-input":"Payment_form-group-item-input__kFxo5",number:"Payment_number__Pb3-2","form-group-item-input-append":"Payment_form-group-item-input-append__aZVw9","form-group-item-datetime":"Payment_form-group-item-datetime__iVRSO","form-group-item-datetime-box":"Payment_form-group-item-datetime-box__qOr0B","form-check-default":"Payment_form-check-default__SzPtq","form-check-default-checkbox":"Payment_form-check-default-checkbox__H14Px","form-check-default-staysigned":"Payment_form-check-default-staysigned__exkzO","form-group-submit":"Payment_form-group-submit__Rhlgu"});var P=function(){var e=(0,f.v9)(x.fj),a=null===e||void 0===e?void 0:e.login.currentUser,n=null===a||void 0===a?void 0:a.accessToken,m=(0,d.s0)(),c=(0,f.I0)(),P=(0,u.TA)({initialValues:{},validationSchema:p.Ry({bankname:p.Z_().required("B\u1eaft bu\u1ed9c!"),owner:p.Z_().required("B\u1eaft bu\u1ed9c!"),numberCard:p.Z_().required("B\u1eaft bu\u1ed9c!"),dateExpired:p.Z_().required("B\u1eaft bu\u1ed9c!")}),onSubmit:function(e){console.log(e);var a=q.find((function(a){if(a.bankName==e.bankname)return a.id})),t={type:"VNPAY",info:{Id:null===T||void 0===T?void 0:T.id,BankName:e.bankname,BankNumber:e.numberCard,BankCode:a.bankCode,AccountName:e.owner,ExpiredDate:e.dateExpired,StartedDate:e.dateStarted,BankTypeId:a.id}};console.log(t),c(_.Z.actions.handlePayment(t));var m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,i,m,c,s,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.info).BankName,i=(0,o.Z)(a,y),(m=t.info).Id,c=(0,o.Z)(m,N),T){e.next=9;break}return e.next=5,g.qH(c,n,A);case 5:s=e.sent,S(s),e.next=13;break;case 9:return e.next=11,g.AG(i,n,A);case 11:l=e.sent,S(l);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m()}}),C=(0,h.useState)([]),Z=(0,t.Z)(C,2),w=Z[0],S=Z[1];(0,h.useEffect)((function(){console.log(w),200==w.status&&m("/review")}),[w]);var B=(0,h.useState)([]),E=(0,t.Z)(B,2),q=E[0],F=E[1],V=(0,h.useState)([]),I=(0,t.Z)(V,2),T=I[0],R=I[1],A=(0,v.V)(a,c,b.Z.actions.loginSuccess);return(0,h.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,t,o,i,m,c,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.H9(n,A);case 2:return c=e.sent,e.next=5,g.VD(n,A);case 5:s=e.sent,F(c),P.values.bankname=null===(a=s[0])||void 0===a?void 0:a.bankName,P.values.numberCard=null===(t=s[0])||void 0===t?void 0:t.bankNumber,P.values.owner=null===(o=s[0])||void 0===o?void 0:o.accountName,P.values.dateExpired=null===(i=s[0])||void 0===i?void 0:i.expiredDate,P.values.dateStarted=null===(m=s[0])||void 0===m?void 0:m.startedDate,R(s[0]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,k.jsx)("div",{className:j("wrapper"),children:(0,k.jsx)("form",{onSubmit:P.handleSubmit,children:(0,k.jsxs)("div",{className:j("body"),children:[(0,k.jsxs)("div",{className:j("tittle"),children:[(0,k.jsx)("h2",{className:j("tittle-text"),children:"H\xe3y ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"}),(0,k.jsx)("p",{className:j("tittle-tip"),children:"B\u1ea1n s\u1ebd kh\xf4ng b\u1ecb t\xednh ph\xed cho \u0111\u1ebfn khi b\u1ea1n xem l\u1ea1i \u0111\u01a1n \u0111\u1eb7t h\xe0ng n\xe0y tr\xean trang ti\u1ebfp theo."})]}),(0,k.jsxs)("div",{className:j("form-box"),children:[(0,k.jsxs)("div",{className:j("form-check"),children:[(0,k.jsx)("input",{type:"radio",id:"radio",className:j("form-check-radio")}),(0,k.jsxs)("div",{className:j("form-check-group"),children:[(0,k.jsx)("p",{className:j("form-check-name"),children:"Th\u1ebb ng\xe2n h\xe0ng "}),(0,k.jsx)("label",{htmlFor:"radio",className:j("form-check-iconList"),children:(0,k.jsx)("span",{className:j("form-check-icon"),children:(0,k.jsx)("img",{src:"https://frontend.tikicdn.com/_desktop-next/static/img/icons/checkout/icon-payment-method-vnpay.png",loading:"lazy",className:j("form-check-icon-data")})})})]})]}),(0,k.jsxs)("div",{className:j("form-group"),children:[(0,k.jsxs)("div",{className:j("form-group-item"),children:[(0,k.jsx)("label",{className:j("form-group-item-label"),htmlFor:"",children:"Ng\xe2n h\xe0ng"}),(0,k.jsxs)("select",{id:"bankname",name:"bankname",onChange:P.handleChange,className:j("form-group-item-input"),type:"text",placeholder:"Nh\u1eadp t\xean ng\xe2n h\xe0ng",children:[!T&&(0,k.jsx)("option",{value:"",label:"- - - - Ch\u1ecdn ng\xe2n h\xe0ng thanh to\xe1n - - - -",selected:!0}),null===q||void 0===q?void 0:q.map((function(e,a){return(0,k.jsx)("option",{value:e.bankName,label:e.bankName,selected:e.bankCode===(null===T||void 0===T?void 0:T.bankCode)},a)}))]})]}),(0,k.jsxs)("div",{className:j("form-group-item"),children:[(0,k.jsx)("label",{className:j("form-group-item-label"),htmlFor:"",children:"T\xean ch\u1ee7 th\u1ebb"}),(0,k.jsx)("input",{id:"owner",name:"owner",value:P.values.owner,onChange:P.handleChange,className:j("form-group-item-input"),type:"text",placeholder:"Nh\u1eadp t\xean ch\u1ee7 th\u1ebb"})]}),(0,k.jsxs)("div",{className:j("form-group-item"),children:[(0,k.jsx)("label",{className:j("form-group-item-label"),htmlFor:"",children:"S\u1ed1 th\u1ebb"}),(0,k.jsx)("div",{className:j("form-group-item-input-append"),children:(0,k.jsx)("span",{className:j("form-group-item-input-append-icon"),children:(0,k.jsx)(l.Zb,{})})}),(0,k.jsx)("input",{type:"digits",placeholder:"Nh\u1eadp s\u1ed1 th\u1ebb",maxlength:"19",minlength:"14",id:"numberCard",name:"numberCard",value:P.values.numberCard,onChange:P.handleChange,className:j("form-group-item-input","number")})]}),(0,k.jsx)("div",{className:j("form-group-item"),children:(0,k.jsxs)("div",{className:j("form-group-item-datetime"),children:[(0,k.jsxs)("p",{children:[(0,k.jsx)("label",{className:j("form-group-item-label"),htmlFor:"",children:"Ng\xe0y b\u1eaft \u0111\u1ea7u:"}),(0,k.jsx)("label",{className:j("form-group-item-label"),htmlFor:"",children:"Ng\xe0y h\u1ebft h\u1ea1n:"})]}),(0,k.jsxs)("div",{className:j("form-group-item-datetime-box"),children:[(0,k.jsx)("input",{id:"dateStarted",name:"dateStarted",value:P.values.dateStarted,onChange:P.handleChange,className:j("form-group-item-input"),type:"date"}),(0,k.jsx)("input",{id:"dateExpired",name:"dateExpired",value:P.values.dateExpired,onChange:P.handleChange,className:j("form-group-item-input"),type:"date"})]})]})})]}),(0,k.jsxs)("div",{className:j("form-check-default"),children:[(0,k.jsx)("input",{type:"checkbox",className:j("form-check-default-checkbox")}),(0,k.jsx)("span",{className:j("form-check-default-staysigned"),children:"\u0110\u1eb7t l\xe0m m\u1eb7c \u0111\u1ecbnh"})]}),(0,k.jsx)("div",{className:j("form-group-submit"),children:(0,k.jsx)(s.Z,{type:"submit",primary:!0,rounded:!0,login:!0,children:"Ki\u1ec3m tra \u0111\u01a1n h\xe0ng"})})]})]})})})}}}]);
//# sourceMappingURL=626.fa19a856.chunk.js.map